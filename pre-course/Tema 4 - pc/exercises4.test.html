<!DOCTYPE html>
<html>
<body>

<p> HTML page for work with Javascript</p>

<!DOCTYPE html>
<html>
<body>

<p>Exercises 4</p>

<script>

//c5) Añade las dos funciones a la misma función padre, de forma que encripte y desencripte 
//a la vez cuando termine de ejecutarse.

function coder(cod1, cod2) {
    
codeScript(cod1, cod2);

var Result1;
var Result2;

decrypter(Result1, Result2); // ('4742', '4682')

    function codeScript(code1, code2) {

        var arrResult1 = codeGen (code1);
        var arrResult2 = codeGen (code2);
        Result1 = convertToString(arrResult1) * 2;;
        Result2 = convertToString(arrResult2) * 2;;


        console.log (Result1);
        console.log (Result2);

        function  convertToString(arr) {
            var str = '';
            arr.forEach(function (x) {
                str = str + x;


            });

            return str;
        }

        function codeGen(code) {

            var arr = [];
            var newArr = [];
            for (var i = 0; i < code.length; i++) { 
                    arr[i] =  code[i];
                } 


            var count = 0
            for (var i = 0; i < arr.length; i++) {
                if (count == 0) {
                    newArr [(arr.length-1)] = arr [i];
                }
                else {
                    newArr [(i-1)] = arr [i];
                }

                count++;
                }
            return newArr
            console.log (newArr);
        }
    

    }





        function decrypter(code1, code2) {

            var arrResult1 = codeDec((code1 / 2));
            var arrResult2 = codeDec((code2 / 2));
            var Result1 = convertToString(arrResult1);
            var Result2 = convertToString(arrResult2);


            console.log(Result1);
            console.log(Result2);

            function convertToString(arr) {
                var str = '';
                arr.forEach(function (x) {
                    str = str + x;


                });

                return str;
            }

            function codeDec(cod) {
                var code = cod.toString();
                var arr = [];
                var newArr = [];
                for (var i = 0; i < code.length; i++) {
                    arr[i] = code[i];
                }


                var count = 0
                for (var i = 0; i < arr.length; i++) {
                    if (count == 0) {
                        newArr[(i)] = arr[arr.length - 1];
                    }
                    else {
                        newArr[(i)] = arr[i - 1];
                    }

                    count++;
                }
                return newArr
                console.log(newArr);
            }


    }


    

}

coder('1237', '1234');



  
</script>

</body>
</html>